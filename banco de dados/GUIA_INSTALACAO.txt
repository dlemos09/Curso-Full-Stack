================================================================================
            GUIA COMPLETO DE INSTALAÃ‡ÃƒO - POSTGRESQL + DBEAVER
                    Curso Intensivo de Banco de Dados
================================================================================

ÃNDICE:
1. InstalaÃ§Ã£o do PostgreSQL no Windows
2. InstalaÃ§Ã£o do PostgreSQL no Linux (Ubuntu/Debian)
3. InstalaÃ§Ã£o do PostgreSQL no macOS
4. InstalaÃ§Ã£o via Docker (Multiplataforma)
5. InstalaÃ§Ã£o do DBeaver Community
6. ConfiguraÃ§Ã£o Inicial
7. Testes de VerificaÃ§Ã£o
8. SoluÃ§Ã£o de Problemas

================================================================================
            1. INSTALAÃ‡ÃƒO DO POSTGRESQL NO WINDOWS
================================================================================

PASSO 1: Download
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Acesse: https://www.postgresql.org/download/windows/
2. Clique em "Download the installer" (EnterpriseDB)
3. Escolha a versÃ£o PostgreSQL 14.x ou superior
4. Selecione Windows x86-64
5. Salve o instalador (postgresql-14.x-x-windows-x64.exe)

PASSO 2: Executar Instalador
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. DÃª duplo clique no arquivo baixado
2. Se aparecer aviso do UAC, clique em "Sim"
3. Tela de boas-vindas: clique [Next]

PASSO 3: Escolher DiretÃ³rio de InstalaÃ§Ã£o
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. DiretÃ³rio padrÃ£o: C:\Program Files\PostgreSQL\14
2. Pode manter o padrÃ£o ou escolher outro
3. Clique [Next]

PASSO 4: Selecionar Componentes
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Marque todos os componentes:
â˜‘ PostgreSQL Server (obrigatÃ³rio)
â˜‘ pgAdmin 4 (interface grÃ¡fica - recomendado)
â˜‘ Stack Builder (para extensÃµes - opcional)
â˜‘ Command Line Tools (psql - recomendado)

Clique [Next]

PASSO 5: DiretÃ³rio de Dados
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. DiretÃ³rio padrÃ£o: C:\Program Files\PostgreSQL\14\data
2. Pode manter o padrÃ£o
3. Clique [Next]

PASSO 6: Senha do SuperusuÃ¡rio
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âš ï¸ IMPORTANTE: Esta Ã© a senha do usuÃ¡rio "postgres" (superusuÃ¡rio)

1. Digite uma senha FORTE
2. Confirme a senha
3. ANOTE essa senha - vocÃª vai precisar!
4. SugestÃ£o para curso: "postgres123" (sÃ³ para ambiente de estudo!)
5. Clique [Next]

PASSO 7: Porta
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Porta padrÃ£o: 5432
2. Mantenha 5432 (a menos que jÃ¡ esteja em uso)
3. Clique [Next]

PASSO 8: Locale (LocalizaÃ§Ã£o)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Selecione: Portuguese, Brazil
2. Ou mantenha: [Default locale]
3. Clique [Next]

PASSO 9: Resumo
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Revise as configuraÃ§Ãµes
2. Clique [Next]

PASSO 10: InstalaÃ§Ã£o
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Aguarde o processo de instalaÃ§Ã£o (2-5 minutos)
2. Ao final, clique [Finish]

PASSO 11: Stack Builder (Opcional)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Se aparecer Stack Builder, pode fechar
2. NÃ£o Ã© necessÃ¡rio para o curso

PASSO 12: Verificar ServiÃ§o
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Pressione Win + R
2. Digite: services.msc
3. Procure: postgresql-x64-14
4. Status deve ser: "Em execuÃ§Ã£o"
5. Tipo de inicializaÃ§Ã£o: "AutomÃ¡tico"

âœ… PostgreSQL instalado com sucesso no Windows!

================================================================================
            2. INSTALAÃ‡ÃƒO DO POSTGRESQL NO LINUX (Ubuntu/Debian)
================================================================================

MÃ‰TODO 1: RepositÃ³rio Oficial PostgreSQL (Recomendado)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Abra o terminal (Ctrl+Alt+T)

# Criar arquivo de configuraÃ§Ã£o do repositÃ³rio
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'

# Importar chave de assinatura do repositÃ³rio
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -

# Atualizar lista de pacotes
sudo apt update

# Instalar PostgreSQL 14
sudo apt install postgresql-14 postgresql-contrib-14

# Verificar se estÃ¡ rodando
sudo systemctl status postgresql

# Se nÃ£o estiver rodando, iniciar:
sudo systemctl start postgresql

# Habilitar inicializaÃ§Ã£o automÃ¡tica
sudo systemctl enable postgresql


MÃ‰TODO 2: RepositÃ³rio Ubuntu PadrÃ£o (Mais Simples)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Atualizar repositÃ³rios
sudo apt update

# Instalar PostgreSQL (versÃ£o do repositÃ³rio)
sudo apt install postgresql postgresql-contrib

# Verificar status
sudo systemctl status postgresql


CONFIGURAÃ‡ÃƒO INICIAL NO LINUX
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Trocar para usuÃ¡rio postgres
sudo -i -u postgres

# Entrar no psql
psql

# Definir senha do usuÃ¡rio postgres
ALTER USER postgres PASSWORD 'sua_senha_aqui';

# Sair do psql
\q

# Voltar ao seu usuÃ¡rio
exit


PERMITIR CONEXÃ•ES REMOTAS (Opcional)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Editar postgresql.conf
sudo nano /etc/postgresql/14/main/postgresql.conf

# Procurar e descomentar/alterar:
listen_addresses = '*'

# Salvar (Ctrl+O, Enter, Ctrl+X)

# Editar pg_hba.conf
sudo nano /etc/postgresql/14/main/pg_hba.conf

# Adicionar ao final:
host    all             all             0.0.0.0/0               md5

# Salvar e reiniciar
sudo systemctl restart postgresql


âœ… PostgreSQL instalado com sucesso no Linux!

================================================================================
            3. INSTALAÃ‡ÃƒO DO POSTGRESQL NO macOS
================================================================================

MÃ‰TODO 1: Homebrew (Recomendado)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Instalar Homebrew (se nÃ£o tiver)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Atualizar Homebrew
brew update

# Instalar PostgreSQL 14
brew install postgresql@14

# Iniciar serviÃ§o
brew services start postgresql@14

# Criar usuÃ¡rio postgres (opcional)
createuser -s postgres

# Definir senha
psql postgres
ALTER USER postgres PASSWORD 'sua_senha';
\q


MÃ‰TODO 2: Postgres.app (Interface GrÃ¡fica)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Baixar: https://postgresapp.com/
2. Arrastar para Applications
3. Abrir Postgres.app
4. Clicar em "Initialize"
5. Servidor iniciarÃ¡ automaticamente


MÃ‰TODO 3: Instalador Oficial
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Baixar: https://www.enterprisedb.com/downloads/postgres-postgresql-downloads
2. Selecionar macOS
3. Executar instalador .dmg
4. Seguir assistente (similar ao Windows)


âœ… PostgreSQL instalado com sucesso no macOS!

================================================================================
            4. INSTALAÃ‡ÃƒO VIA DOCKER (MULTIPLATAFORMA)
================================================================================

PRÃ‰-REQUISITO: Docker instalado
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Windows/Mac: Docker Desktop (https://www.docker.com/products/docker-desktop)
â€¢ Linux: Docker Engine (https://docs.docker.com/engine/install/)


PASSO 1: Baixar Imagem do PostgreSQL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

docker pull postgres:14


PASSO 2: Criar e Executar Container
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Criar container com PostgreSQL
docker run --name postgres-curso \
  -e POSTGRES_PASSWORD=postgres123 \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_DB=loja_virtual \
  -p 5432:5432 \
  -v postgres-data:/var/lib/postgresql/data \
  -d postgres:14

# No Windows PowerShell, use:
docker run --name postgres-curso `
  -e POSTGRES_PASSWORD=postgres123 `
  -e POSTGRES_USER=postgres `
  -e POSTGRES_DB=loja_virtual `
  -p 5432:5432 `
  -v postgres-data:/var/lib/postgresql/data `
  -d postgres:14


EXPLICAÃ‡ÃƒO DOS PARÃ‚METROS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
--name postgres-curso .......... Nome do container
-e POSTGRES_PASSWORD ............ Senha do postgres
-e POSTGRES_USER ................ UsuÃ¡rio (padrÃ£o: postgres)
-e POSTGRES_DB .................. Banco inicial
-p 5432:5432 .................... Porta (host:container)
-v postgres-data ................ Volume para persistir dados
-d ............................... Rodar em background
postgres:14 ..................... Imagem e versÃ£o


COMANDOS ÃšTEIS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Ver containers rodando
docker ps

# Parar container
docker stop postgres-curso

# Iniciar container
docker start postgres-curso

# Remover container (cuidado: perde dados se nÃ£o tiver volume)
docker rm postgres-curso

# Acessar psql dentro do container
docker exec -it postgres-curso psql -U postgres

# Ver logs
docker logs postgres-curso


âœ… PostgreSQL rodando no Docker!

================================================================================
            5. INSTALAÃ‡ÃƒO DO DBEAVER COMMUNITY
================================================================================

WINDOWS
â”€â”€â”€â”€â”€â”€â”€

1. Acesse: https://dbeaver.io/download/
2. Clique em "Windows (installer)"
3. Baixe: dbeaver-ce-xx.x.x-x64-setup.exe
4. Execute o instalador
5. Clique [Next] em todas as telas
6. Marque: Create Desktop Icon
7. Clique [Install]
8. Aguarde instalaÃ§Ã£o
9. Clique [Finish]
10. DBeaver abrirÃ¡ automaticamente


LINUX (Ubuntu/Debian)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

MÃ‰TODO 1: Via Snap (Recomendado)

sudo snap install dbeaver-ce


MÃ‰TODO 2: Via APT

# Adicionar repositÃ³rio
sudo add-apt-repository ppa:serge-rider/dbeaver-ce

# Atualizar
sudo apt update

# Instalar
sudo apt install dbeaver-ce


MÃ‰TODO 3: Download Direto

# Baixar .deb
wget https://dbeaver.io/files/dbeaver-ce_latest_amd64.deb

# Instalar
sudo dpkg -i dbeaver-ce_latest_amd64.deb

# Corrigir dependÃªncias (se necessÃ¡rio)
sudo apt-get install -f


macOS
â”€â”€â”€â”€â”€

MÃ‰TODO 1: Homebrew

brew install --cask dbeaver-community


MÃ‰TODO 2: Download Direto

1. Acesse: https://dbeaver.io/download/
2. Clique em "macOS (dmg)"
3. Baixe o arquivo .dmg
4. Abra o .dmg
5. Arraste DBeaver para Applications
6. Abra DBeaver do Launchpad


âœ… DBeaver instalado!

================================================================================
            6. CONFIGURAÃ‡ÃƒO INICIAL DO DBEAVER
================================================================================

PRIMEIRO ACESSO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Abra o DBeaver
2. Se aparecer "Create sample database", clique [No]
3. Feche a tela de boas-vindas


CRIAR CONEXÃƒO COM POSTGRESQL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PASSO 1: Nova ConexÃ£o

1. Clique no botÃ£o [Nova ConexÃ£o] (Ã­cone de plug com +)
   Ou: Menu Database > New Database Connection
   Ou: Ctrl+N (Windows/Linux) / Cmd+N (Mac)

2. Na janela "Connect to a database":
   - Selecione: PostgreSQL
   - Clique [Next]


PASSO 2: Configurar ConexÃ£o

Preencha os campos:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Connection Settings                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Host: localhost                         â”‚
â”‚ Port: 5432                              â”‚
â”‚ Database: postgres                      â”‚
â”‚ Username: postgres                      â”‚
â”‚ Password: [sua senha definida]          â”‚
â”‚                                         â”‚
â”‚ â˜‘ Show all databases                    â”‚
â”‚ â˜‘ Save password                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PASSO 3: Testar ConexÃ£o

1. Clique [Test Connection]
2. DBeaver solicitarÃ¡ download do driver JDBC:
   - Clique [Download]
   - Aguarde download
3. Se tudo estiver OK, verÃ¡:
   "Connected (PostgreSQL 14.x)"
4. Clique [OK]


PASSO 4: Finalizar

1. Se quiser, altere o nome da conexÃ£o:
   Connection name: "PostgreSQL - Curso"
2. Clique [Finish]


NAVEGAR NO DBEAVER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ApÃ³s conectar, vocÃª verÃ¡:

â”œâ”€â”€ Database Navigator (painel esquerdo)
â”‚   â””â”€â”€ PostgreSQL - Curso
â”‚       â”œâ”€â”€ Databases
â”‚       â”‚   â”œâ”€â”€ postgres
â”‚       â”‚   â”‚   â”œâ”€â”€ Schemas
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ public
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Tables
â”‚       â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Views
â”‚       â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚   â”œâ”€â”€ Security
â”‚       â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â””â”€â”€ template0, template1
â”‚       â””â”€â”€ ...


ABRIR SQL EDITOR
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Clique com botÃ£o direito na conexÃ£o
2. SQL Editor > New SQL Script
   Ou: pressione Ctrl+] (Windows/Linux) / Cmd+] (Mac)

3. Digite sua primeira query:
   SELECT version();

4. Execute: Ctrl+Enter (ou botÃ£o â–¶ï¸ na barra)

5. Resultado aparecerÃ¡ no painel inferior


CONFIGURAÃ‡Ã•ES RECOMENDADAS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Menu: Window > Preferences

1. SQL Editor > Formatting:
   â˜‘ Use spaces for indentation
   Tab size: 4

2. SQL Editor > Auto-complete:
   â˜‘ Enable auto-completion
   Activation delay: 500ms

3. SQL Editor > SQL Processing:
   â˜‘ Auto-commit

4. General > Appearance:
   Theme: Dark (opcional, se preferir tema escuro)


ATALHOS ÃšTEIS NO DBEAVER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ctrl+Enter ............. Executar query atual
Ctrl+\ ................. Executar script completo
Ctrl+Shift+E ........... Explicar plano de execuÃ§Ã£o
Ctrl+Shift+F ........... Formatar SQL
Ctrl+Space ............. Auto-complete
F4 ..................... Abrir editor de objeto
F3 ..................... Ir para definiÃ§Ã£o
Ctrl+F ................. Buscar no script
Ctrl+Tab ............... Alternar entre abas

âœ… DBeaver configurado e pronto para uso!

================================================================================
            7. TESTES DE VERIFICAÃ‡ÃƒO
================================================================================

TESTE 1: Verificar VersÃ£o do PostgreSQL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# No psql ou DBeaver, execute:

SELECT version();

# Resultado esperado (algo como):
PostgreSQL 14.x on x86_64-pc-linux-gnu, compiled by gcc...


TESTE 2: Listar Bancos de Dados
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SELECT datname FROM pg_database;

# Resultado esperado:
  datname
-----------
 postgres
 template0
 template1


TESTE 3: Verificar UsuÃ¡rio Atual
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SELECT current_user, current_database();

# Resultado esperado:
 current_user | current_database
--------------+------------------
 postgres     | postgres


TESTE 4: Criar Banco de Teste
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

CREATE DATABASE teste;

# Conectar ao banco:
\c teste   # no psql
# ou selecione 'teste' no dropdown do DBeaver

# Criar tabela:
CREATE TABLE teste_tabela (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(50)
);

# Inserir dado:
INSERT INTO teste_tabela (nome) VALUES ('Teste');

# Consultar:
SELECT * FROM teste_tabela;

# Resultado:
 id | nome
----+-------
  1 | Teste

# Deletar banco de teste:
\c postgres   # voltar para postgres
DROP DATABASE teste;


TESTE 5: Executar Scripts do Curso
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# No DBeaver:
1. Abra o arquivo scripts.sql
2. Selecione todo conteÃºdo (Ctrl+A)
3. Execute (Ctrl+Enter)
4. Aguarde conclusÃ£o
5. Verifique criaÃ§Ã£o do banco loja_virtual

# Consultar estrutura criada:
SELECT schemaname, tablename 
FROM pg_tables 
WHERE schemaname IN ('vendas', 'estoque', 'auditoria')
ORDER BY schemaname, tablename;


âœ… Todos os testes passaram? Ambiente pronto para o curso!

================================================================================
            8. SOLUÃ‡ÃƒO DE PROBLEMAS
================================================================================

PROBLEMA: "psql: error: connection to server failed"
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

CAUSA: PostgreSQL nÃ£o estÃ¡ rodando

SOLUÃ‡ÃƒO:
â€¢ Windows: Iniciar serviÃ§o em services.msc
â€¢ Linux: sudo systemctl start postgresql
â€¢ Mac: brew services start postgresql@14
â€¢ Docker: docker start postgres-curso


PROBLEMA: "password authentication failed for user postgres"
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

CAUSA: Senha incorreta

SOLUÃ‡ÃƒO:
â€¢ Tente senha definida na instalaÃ§Ã£o
â€¢ Se esqueceu, veja seÃ§Ã£o "Resetar senha" abaixo


PROBLEMA: "could not connect to server: Connection refused"
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

CAUSA: PostgreSQL nÃ£o estÃ¡ escutando na porta 5432 ou firewall bloqueando

SOLUÃ‡ÃƒO:
â€¢ Verifique se PostgreSQL estÃ¡ rodando
â€¢ Verifique porta: netstat -an | grep 5432 (Linux/Mac)
â€¢ Windows: netstat -an | findstr 5432
â€¢ Desabilite firewall temporariamente para teste


PROBLEMA: DBeaver nÃ£o baixa driver JDBC
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

CAUSA: Problema de conexÃ£o com internet ou proxy

SOLUÃ‡ÃƒO:
1. Verificar internet
2. Desabilitar proxy temporariamente
3. Download manual:
   - Baixe de: https://jdbc.postgresql.org/download.html
   - No DBeaver: Database > Driver Manager > PostgreSQL
   - Libraries > Add File > selecione o .jar baixado


RESETAR SENHA DO POSTGRES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

LINUX:
# Editar pg_hba.conf
sudo nano /etc/postgresql/14/main/pg_hba.conf

# Mudar 'md5' para 'trust' temporariamente:
local   all             postgres                                trust

# Salvar e reiniciar
sudo systemctl restart postgresql

# Conectar sem senha
psql -U postgres

# Alterar senha
ALTER USER postgres PASSWORD 'nova_senha';
\q

# Voltar pg_hba.conf para 'md5' e reiniciar

WINDOWS:
# Localizar pg_hba.conf em: C:\Program Files\PostgreSQL\14\data\
# Editar com Notepad (como Administrador)
# Mudar METHOD de 'scram-sha-256' para 'trust'
# Salvar
# Reiniciar serviÃ§o em services.msc
# Conectar e alterar senha
# Voltar METHOD para 'scram-sha-256'
# Reiniciar serviÃ§o


PROBLEMA: "Peer authentication failed"
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

CAUSA: MÃ©todo de autenticaÃ§Ã£o peer nÃ£o permite senha

SOLUÃ‡ÃƒO (Linux):
# Editar pg_hba.conf
sudo nano /etc/postgresql/14/main/pg_hba.conf

# Mudar de 'peer' para 'md5':
local   all             all                                     md5

# Reiniciar
sudo systemctl restart postgresql


PROBLEMA: DBeaver lento ou trava
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SOLUÃ‡ÃƒO:
1. Aumentar memÃ³ria do DBeaver:
   Editar dbeaver.ini:
   -Xmx2048m (aumentar para 2GB)

2. Desabilitar plugins nÃ£o usados:
   Window > Preferences > Connections
   Desmarque drivers nÃ£o utilizados

3. Limpar cache:
   Window > Preferences > Database > Cache
   Clear cache


MAIS AJUDA
â”€â”€â”€â”€â”€â”€â”€â”€â”€

â€¢ DocumentaÃ§Ã£o PostgreSQL: https://www.postgresql.org/docs/
â€¢ FÃ³rum PostgreSQL: https://www.postgresql.org/list/
â€¢ Stack Overflow: [tag:postgresql]
â€¢ DBeaver GitHub Issues: https://github.com/dbeaver/dbeaver/issues

================================================================================
                            CONCLUSÃƒO
================================================================================

Com PostgreSQL e DBeaver instalados e configurados, vocÃª estÃ¡ pronto para
comeÃ§ar o curso!

PRÃ“XIMOS PASSOS:
1. âœ… Executar scripts.sql
2. âœ… Importar arquivos CSV
3. âœ… ComeÃ§ar os exercÃ­cios
4. âœ… Estudar o plano de aula

Boa sorte no curso! ðŸš€

================================================================================
